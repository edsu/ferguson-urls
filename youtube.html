<html>

  <head>
  <title>Random Ferguson YouTube Videos</title>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <style>
    #urls img {
      height: 18px;
    }
    td { 
      padding: 10px;
    }
    footer {
      text-align: center;
      margin: 15px;
    }
  </style>
</head>

<body>

  <a href="http://github.com/edsu/ferguson-urls"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 3;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

  <section class="container">
    <div id="video"></div>
  </section>

  <script src="youtube.js"></script>
  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script>

    // youtube loading silliness 
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('video', {
        height: '720',
        width: '1000',
        //videoId: 'M7lc1UVf-VE',
        //videoId: '6Q0wA4',
        //videoId: 'AzXFggVvA6U',
        events: {
          'onReady': onPlayerReady,
          'onError': onError,
          //'onStateChange': onPlayerStateChange
        }
      });

      player.loadVideoByUrl('http://www.youtube.com/watch?v=UQnNBpW6AoA');
    }

    function onPlayerReady(event) {
      event.target.setVolume(100);
      event.target.playVideo();
    }

    function onError(event) {
      console.log(event.data);
      if (event.data == 100) {
        alert("ruhroh");
      }
    }

    $(run);

    function run() {
      var v = youtube[Math.floor(Math.random() * youtube.length)];
      //$("#video").text(v.tweet_count + ' ' + v.url);
      setTimeout(run, 5000);
    }

  </script>
</body>

</html>
